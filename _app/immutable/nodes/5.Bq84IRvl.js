import{p as E,L as X}from"../chunks/DMYWN6RQ.js";import"../chunks/DsnmJJEf.js";import"../chunks/KNaL3z4S.js";import{p as G,A as K,w as $,a as e,b as Q,s as Z,n as tt,f as C,y as n,z as q,j as x,c,v as r,x as i,r as v}from"../chunks/KyPmetss.js";import{s as y}from"../chunks/DCWFpyj1.js";import{i as et}from"../chunks/CxEXyxaX.js";import{p as J,b as rt,r as at}from"../chunks/Din6gm57.js";import{C as st}from"../chunks/DT5wp6-T.js";import{T as ot,a as nt,B as P}from"../chunks/D6rrmGHS.js";import{a as it,c as lt}from"../chunks/CJPDpFD_.js";import{S as dt}from"../chunks/D7Sbzy-K.js";import{A as ut,a as ct}from"../chunks/B-00nX8G.js";import{R as vt,S as ft,M as pt,a as mt,b as $t,c as _t,d as ht,e as gt}from"../chunks/EwEthMWG.js";import{g as M}from"../chunks/D1qiSn3o.js";const bt=async({params:w})=>{const s=w.username,d=await E.collection("users").getFirstListItem(`username = "${s}"`),l=await E.collection("tasks").getFullList({filter:`uploaded_by = "${d.id}"`,sort:"-created"}),k=await E.collection("status").getFullList({filter:`user = "${d.id}"`,expand:"volunteered_task_id",sort:"-created"});return{user:d,tasks:l,statuses:k}},It=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"})),xt=ot({base:"focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive inline-flex w-fit shrink-0 items-center justify-center gap-1 overflow-hidden whitespace-nowrap rounded-full border px-2 py-0.5 text-xs font-medium transition-[color,box-shadow] focus-visible:ring-[3px] [&>svg]:pointer-events-none [&>svg]:size-3",variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90 border-transparent",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90 border-transparent",destructive:"bg-destructive [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/70 border-transparent text-white",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Y(w,s){G(s,!0);let d=J(s,"ref",15,null),l=J(s,"variant",3,"default"),k=at(s,["$$slots","$$events","$$legacy","ref","href","class","variant","children"]);var S=K(),N=$(S);nt(N,()=>s.href?"a":"span",!1,(L,R)=>{rt(L,D=>d(D),()=>d()),it(L,D=>({"data-slot":"badge",href:s.href,class:D,...k}),[()=>lt(xt({variant:l()}),s.class)]);var U=K(),j=$(U);Z(j,()=>s.children??tt),e(R,U)}),e(w,S),Q()}var yt=C("<!> <!> <!> <!> <!> <!>",1),Pt=C("<!> <!>",1),wt=C("<!> <!>",1),kt=C('<div class="items-center"><!> <h1 class="text-xl font-bold"> </h1> <p class="text-sm text-muted-foreground"> </p></div> <div><!> <p class="text-sm text-muted-foreground"> </p></div> <!> <div class="flex gap-3"><!> <!></div>',1),St=C('<!> <div class="min-h-screen flex items-center justify-center"><div class="mx-auto max-w-2xl p-6 space-y-8 font-mono"><!></div></div>',1);function Ot(w,s){G(s,!1);let d=J(s,"data",8);const{user:l}=d();async function k(){E.authStore.clear(),await M("/login")}et();var S=St(),N=$(S);vt(N,{children:(j,D)=>{var T=wt(),_=$(T);ft(_,{children:(f,H)=>{P(f,{size:"icon",variant:"outline",class:"rounded-full absolute top-7 right-4","aria-label":"menu",children:(p,z)=>{pt(p,{})},$$slots:{default:!0}})},$$slots:{default:!0}});var V=r(_,2);mt(V,{children:(f,H)=>{var p=Pt(),z=$(p);$t(z,{children:(h,I)=>{var g=yt(),b=$(g);_t(b,{children:(t,u)=>{i();var a=n("MENU");e(t,a)},$$slots:{default:!0}});var m=r(b,2);ht(m,{children:(t,u)=>{i();var a=n("Navigate through the app using the options below.");e(t,a)},$$slots:{default:!0}});var B=r(m,2);P(B,{variant:"outline",type:"button",onclick:()=>{M("/home")},children:(t,u)=>{i();var a=n("Home");e(t,a)},$$slots:{default:!0}});var O=r(B,2);P(O,{variant:"outline",type:"button",onclick:()=>{M("/upload")},children:(t,u)=>{i();var a=n("New Request");e(t,a)},$$slots:{default:!0}});var o=r(O,2);P(o,{variant:"outline",type:"button",onclick:()=>{M("/view_tasks")},children:(t,u)=>{i();var a=n("View Tasks");e(t,a)},$$slots:{default:!0}});var F=r(o,2);P(F,{variant:"outline",type:"button",onclick:()=>{M("/your_tasks")},children:(t,u)=>{i();var a=n("Your Tasks");e(t,a)},$$slots:{default:!0}}),e(h,g)},$$slots:{default:!0}});var A=r(z,2);gt(A,{children:(h,I)=>{P(h,{variant:"outline",type:"button",class:"color-red",onclick:k,children:(g,b)=>{i();var m=n("Logout");e(g,m)},$$slots:{default:!0}})},$$slots:{default:!0}}),e(f,p)},$$slots:{default:!0}}),e(j,T)},$$slots:{default:!0}});var L=r(N,2),R=c(L),U=c(R);st(U,{class:"p-6 space-y-1",children:(j,D)=>{var T=kt(),_=$(T),V=c(_);ut(V,{class:"w-30 h-30 mb-4",children:(o,F)=>{ct(o,{class:"text-4xl font-bold",children:(t,u)=>{i();var a=n();q(W=>y(a,W),[()=>x(()=>l.username[0].toUpperCase())]),e(t,a)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=r(V,2),H=c(f,!0);v(f);var p=r(f,2),z=c(p);v(p),v(_);var A=r(_,2),h=c(A);X(h,{children:(o,F)=>{i();var t=n("Date of Birth");e(o,t)},$$slots:{default:!0}});var I=r(h,2),g=c(I,!0);v(I),v(A);var b=r(A,2);dt(b,{});var m=r(b,2),B=c(m);Y(B,{children:(o,F)=>{i();var t=n();q(()=>y(t,`Karma: ${x(()=>l.karma)??""}`)),e(o,t)},$$slots:{default:!0}});var O=r(B,2);Y(O,{variant:"secondary",children:(o,F)=>{i();var t=n();q(u=>y(t,`Joined ${u??""}`),[()=>x(()=>new Date(l.created).toDateString())]),e(o,t)},$$slots:{default:!0}}),v(m),q(o=>{y(H,x(()=>l.name)),y(z,`@${x(()=>l.username)??""}`),y(g,o)},[()=>x(()=>new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long",year:"numeric"}).format(new Date(l.dob)))]),e(j,T)},$$slots:{default:!0}}),v(R),v(L),e(w,S),Q()}export{Ot as component,It as universal};
