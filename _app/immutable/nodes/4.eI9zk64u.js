import"../chunks/DsnmJJEf.js";import"../chunks/CNgSt7EQ.js";import{p as ur,A as cr,w as l,a as r,b as fr,f as a,x as u,y as T,v as c,c as G,R as g,P as B,k as f,r as H,V as mr,z as pr}from"../chunks/BH8DMBu3.js";import{s as vr}from"../chunks/BLVPUww8.js";import{c as e,i as Y}from"../chunks/v_Bvmvnk.js";import{B as Z}from"../chunks/C8buxYmP.js";import{C as $r}from"../chunks/DtiTS7bV.js";import{C as _r,a as hr,b as gr,c as xr}from"../chunks/C7VvDutj.js";import{F as wr,a as W,b as rr}from"../chunks/xAWWzzS0.js";import{F as Pr}from"../chunks/CQwXTKbV.js";import{I as tr,S as yr}from"../chunks/BIArqIc8.js";import{p as er}from"../chunks/B_QViUJN.js";import{t as ar}from"../chunks/CX5p_vU5.js";function br(x){return function(...n){var m=n[0];return m.preventDefault(),x?.apply(this,n)}}var Cr=a("<!> <!>",1),Lr=a("<!> <!>",1),Fr=a("<!> <!>",1),kr=a("<!> Logging in...",1),Sr=a('Donâ€™t have an account? <a href="/signup">Sign up</a>',1),Dr=a("<!> <!>",1),Tr=a("<!> <!> <!>",1),qr=a('<p class="text-sm text-red-500 mt-2 text-center"> </p>'),Br=a("<form><!></form> <!>",1),Er=a("<!> <!>",1);function Ir(x,n){ur(n,!0);let m=B(""),E=B(""),w=B(""),I=B(!1);async function or(){try{g(I,!0),g(w,""),await er.collection("users").authWithPassword(f(m),f(E)),document.cookie=er.authStore.exportToCookie(),ar.success("Logged in successfully!");const R=new URLSearchParams(window.location.search).get("redirectTo")||"/home";window.location.href=R}catch(q){g(w,q?.message||"Login failed. Check your credentials.",!0),ar.error(f(w))}finally{g(I,!1)}}var J=cr(),sr=l(J);e(sr,()=>$r,(q,R)=>{R(q,{class:"mx-auto w-full max-w-sm",children:(lr,jr)=>{var K=Er(),M=l(K);e(M,()=>_r,(j,z)=>{z(j,{children:(A,ir)=>{var P=Cr(),p=l(P);e(p,()=>hr,(y,b)=>{b(y,{class:"text-2xl",children:(o,v)=>{u();var $=T("Login");r(o,$)},$$slots:{default:!0}})});var U=c(p,2);e(U,()=>gr,(y,b)=>{b(y,{children:(o,v)=>{u();var $=T("Enter your email below to log in to your account");r(o,$)},$$slots:{default:!0}})}),r(A,P)},$$slots:{default:!0}})});var nr=c(M,2);e(nr,()=>xr,(j,z)=>{z(j,{children:(A,ir)=>{var P=Br(),p=l(P),U=G(p);e(U,()=>wr,(o,v)=>{v(o,{children:($,zr)=>{var N=Tr(),O=l(N);e(O,()=>W,(C,L)=>{L(C,{children:(F,X)=>{var i=Lr(),d=l(i);e(d,()=>rr,(s,S)=>{S(s,{for:"email",children:(t,_)=>{u();var h=T("Email");r(t,h)},$$slots:{default:!0}})});var k=c(d,2);tr(k,{id:"email",type:"email",placeholder:"m@example.com",required:!0,get value(){return f(m)},set value(s){g(m,s,!0)}}),r(F,i)},$$slots:{default:!0}})});var Q=c(O,2);e(Q,()=>W,(C,L)=>{L(C,{children:(F,X)=>{var i=Fr(),d=l(i);e(d,()=>rr,(s,S)=>{S(s,{for:"password",children:(t,_)=>{u();var h=T("Password");r(t,h)},$$slots:{default:!0}})});var k=c(d,2);tr(k,{id:"password",type:"password",required:!0,get value(){return f(E)},set value(s){g(E,s,!0)}}),r(F,i)},$$slots:{default:!0}})});var dr=c(Q,2);e(dr,()=>W,(C,L)=>{L(C,{children:(F,X)=>{var i=Dr(),d=l(i);{var k=t=>{Z(t,{disabled:!0,class:"w-full",children:(_,h)=>{var D=kr(),V=l(D);yr(V,{class:"mr-2"}),u(),r(_,D)},$$slots:{default:!0}})},s=t=>{Z(t,{type:"submit",class:"w-full",children:(_,h)=>{u();var D=T("Login");r(_,D)},$$slots:{default:!0}})};Y(d,t=>{f(I)?t(k):t(s,!1)})}var S=c(d,2);e(S,()=>Pr,(t,_)=>{_(t,{class:"text-center mt-2",children:(h,D)=>{u();var V=Sr();u(),r(h,V)},$$slots:{default:!0}})}),r(F,i)},$$slots:{default:!0}})}),r($,N)},$$slots:{default:!0}})}),H(p);var y=c(p,2);{var b=o=>{var v=qr(),$=G(v,!0);H(v),pr(()=>vr($,f(w))),r(o,v)};Y(y,o=>{f(w)&&o(b)})}mr("submit",p,br(or)),r(A,P)},$$slots:{default:!0}})}),r(lr,K)},$$slots:{default:!0}})}),r(x,J),fr()}var Rr=a('<div class="flex h-screen w-full items-center justify-center px-4 font-mono "><!></div>');function Yr(x){var n=Rr(),m=G(n);Ir(m,{}),H(n),r(x,n)}export{Yr as component};
