import"./DsnmJJEf.js";import{Y as te,a8 as Pe,bv as De,bw as Me,bx as Fe,a7 as Re,at as Le,ab as ke,_ as _e,aQ as Be,a4 as Ue,aP as We,ad as Ve,P as E,by as ne,a1 as qe,k as h,R as p,a2 as x,bu as m,L as Ke,K as re,M as ze,u as je,h as q,j as He,S as K,O as Ge,Q as Xe,p as A,A as y,w,a as S,b as C,s as N,n as O,J as Ye,bz as Ze}from"./BH8DMBu3.js";import{i as he,p as d}from"./v_Bvmvnk.js";import{j as z,e as f,k as de,l as M,c as Qe,n as Je}from"./Tsdtx6m7.js";import{c as $e,m as et,u as tt}from"./BLVPUww8.js";function nt(n,e,t){te&&Pe();var r=n,s=We,o,i,a=null,u=De()?Me:Fe;function c(){o&&Ve(o),a!==null&&(a.lastChild.remove(),r.before(a),a=null),o=i}Re(()=>{if(u(s,s=e())){var v=r,l=Be();l&&(a=document.createDocumentFragment(),a.append(v=Le())),i=ke(()=>t(v)),l?_e.add_callback(c):c()}}),te&&(r=Ue)}class rt extends Map{#e=new Map;#t=E(0);#n=E(0);#r=ne||-1;constructor(e){if(super(),e){for(var[t,r]of e)super.set(t,r);this.#n.v=super.size}}#s(e){return ne===this.#r?E(e):qe(e)}has(e){var t=this.#e,r=t.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),t.set(e,r);else return h(this.#t),!1}return h(r),!0}forEach(e,t){this.#i(),super.forEach(e,t)}get(e){var t=this.#e,r=t.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),t.set(e,r);else{h(this.#t);return}}return h(r),super.get(e)}set(e,t){var r=this.#e,s=r.get(e),o=super.get(e),i=super.set(e,t),a=this.#t;if(s===void 0)s=this.#s(0),r.set(e,s),p(this.#n,super.size),x(a);else if(o!==t){x(s);var u=a.reactions===null?null:new Set(a.reactions),c=u===null||!s.reactions?.every(v=>u.has(v));c&&x(a)}return i}delete(e){var t=this.#e,r=t.get(e),s=super.delete(e);return r!==void 0&&(t.delete(e),p(this.#n,super.size),p(r,-1),x(this.#t)),s}clear(){if(super.size!==0){super.clear();var e=this.#e;p(this.#n,0);for(var t of e.values())p(t,-1);x(this.#t),e.clear()}}#i(){h(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var t of super.keys())if(!e.has(t)){var r=this.#s(0);e.set(t,r)}}for([,r]of this.#e)h(r)}keys(){return h(this.#t),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return h(this.#n),super.size}}const st=typeof window<"u"?window:void 0;function it(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class ot{#e;#t;constructor(e={}){const{window:t=st,document:r=t?.document}=e;t!==void 0&&(this.#e=r,this.#t=$e(s=>{const o=m(t,"focusin",s),i=m(t,"focusout",s);return()=>{o(),i()}}))}get current(){return this.#t?.(),this.#e?it(this.#e):null}}new ot;class at{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return Ke(this.#t)}get(){const e=re(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const t=re(this.#t);return t===void 0?e:t}set(e){return ze(this.#t,e)}}function ut(n,e){switch(n){case"post":q(e);break;case"pre":je(e);break}}function me(n,e,t,r={}){const{lazy:s=!1}=r;let o=!s,i=Array.isArray(n)?[]:void 0;ut(e,()=>{const a=Array.isArray(n)?n.map(c=>c()):n();if(!o){o=!0,i=a;return}const u=He(()=>t(a,i));return i=a,u})}function g(n,e,t){me(n,"post",e,t)}function ct(n,e,t){me(n,"pre",e,t)}g.pre=ct;class lt{#e=()=>{};#t=K(()=>this.#e());constructor(e,t){let r;t!==void 0&&(r=t),this.#e=()=>{try{return r}finally{r=e()}}}get current(){return h(this.#t)}}function F(n){q(()=>()=>{n()})}function ft(n,e){return setTimeout(e,n)}function Y(n){Ge().then(n)}const ht=1,dt=9,mt=11;function G(n){return z(n)&&n.nodeType===ht&&typeof n.nodeName=="string"}function ve(n){return z(n)&&n.nodeType===dt}function vt(n){return z(n)&&n.constructor?.name==="VisualViewport"}function pt(n){return z(n)&&n.nodeType!==void 0}function pe(n){return pt(n)&&n.nodeType===mt&&"host"in n}function bt(n,e){if(!n||!e||!G(n)||!G(e))return!1;const t=e.getRootNode?.();if(n===e||n.contains(e))return!0;if(t&&pe(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function gt(n){return ve(n)?n:vt(n)?n.document:n?.ownerDocument??document}function yt(n){return pe(n)?yt(n.host):ve(n)?n.defaultView??window:G(n)?n.ownerDocument?.defaultView??window:window}function wt(n){let e=n.activeElement;for(;e?.shadowRoot;){const t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}class be{element;#e=K(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return h(this.#e)}set root(e){p(this.#e,e)}constructor(e){typeof e=="function"?this.element=f(e):this.element=e}getDocument=()=>gt(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>wt(this.root);isActiveElement=e=>e===this.getActiveElement();getElementById(e){return this.root.getElementById(e)}querySelector=e=>this.root?this.root.querySelector(e):null;querySelectorAll=e=>this.root?this.root.querySelectorAll(e):[];setTimeout=(e,t)=>this.getWindow().setTimeout(e,t);clearTimeout=e=>this.getWindow().clearTimeout(e)}const wn="ArrowDown",Sn="ArrowLeft",Tn="ArrowRight",En="ArrowUp",An="End",Cn="Enter",St="Escape",Nn="Home",On=" ",ge=typeof document<"u",se=Tt();function Tt(){return ge&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function ie(n){return n instanceof HTMLElement}function In(n){return n instanceof Element}function Et(n){return n instanceof Element||n instanceof SVGElement}function xn(n){return n!==null}function b(){}class At{state;#e;constructor(e,t){this.state=de(e),this.#e=t,this.dispatch=this.dispatch.bind(this)}#t(e){return this.#e[this.state.current][e]??this.state.current}dispatch(e){this.state.current=this.#t(e)}}const Ct={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};class Nt{opts;#e=E("none");get prevAnimationNameState(){return h(this.#e)}set prevAnimationNameState(e){p(this.#e,e,!0)}#t=E(Xe({}));get styles(){return h(this.#t)}set styles(e){p(this.#t,e,!0)}initialStatus;previousPresent;machine;present;constructor(e){this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?"mounted":"unmounted",this.previousPresent=new lt(()=>this.present.current),this.machine=new At(this.initialStatus,Ct),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),Ot(this),It(this),xt(this)}handleAnimationEnd(e){if(!this.opts.ref.current)return;const t=B(this.opts.ref.current),r=t.includes(e.animationName)||t==="none";e.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=B(this.opts.ref.current))}#n=K(()=>["mounted","unmountSuspended"].includes(this.machine.state.current));get isPresent(){return h(this.#n)}set isPresent(e){p(this.#n,e)}}function Ot(n){g(()=>n.present.current,()=>{if(!n.opts.ref.current||!(n.present.current!==n.previousPresent.current))return;const t=n.prevAnimationNameState,r=B(n.opts.ref.current);if(n.present.current)n.machine.dispatch("MOUNT");else if(r==="none"||n.styles.display==="none")n.machine.dispatch("UNMOUNT");else{const s=t!==r;n.previousPresent.current&&s?n.machine.dispatch("ANIMATION_OUT"):n.machine.dispatch("UNMOUNT")}})}function It(n){g(()=>n.machine.state.current,()=>{if(!n.opts.ref.current)return;const e=B(n.opts.ref.current);n.prevAnimationNameState=n.machine.state.current==="mounted"?e:"none"})}function xt(n){g(()=>n.opts.ref.current,()=>{if(n.opts.ref.current)return n.styles=getComputedStyle(n.opts.ref.current),M(m(n.opts.ref.current,"animationstart",n.handleAnimationStart),m(n.opts.ref.current,"animationcancel",n.handleAnimationEnd),m(n.opts.ref.current,"animationend",n.handleAnimationEnd))})}function B(n){return n&&getComputedStyle(n).animationName||"none"}function Pn(n,e){A(e,!0);const t=new Nt({open:f(()=>e.open),ref:e.ref});var r=y(),s=w(r);{var o=i=>{var a=y(),u=w(a);N(u,()=>e.presence??O,()=>({present:t.isPresent})),S(i,a)};he(s,i=>{(e.forceMount||e.open||t.isPresent)&&i(o)})}S(n,r),C()}class Pt{#e;#t=void 0;#n=!1;constructor(e){this.#e=e,F(()=>this.#r())}#r(){this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=void 0),this.#n=!1}run(e){if(this.#n)return;this.#r(),this.#n=!0;const t=this.#e.ref.current;if(!t){this.#n=!1;return}if(typeof t.getAnimations!="function"){this.#s(e);return}this.#t=window.requestAnimationFrame(()=>{const r=t.getAnimations();if(r.length===0){this.#s(e);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{this.#s(e)})})}#s(e){const t=()=>{e(),this.#n=!1};this.#e.afterTick?Y(t):t()}}class Dn{#e;#t;#n;constructor(e){this.#e=e,this.#t=e.enabled??!0,this.#n=new Pt({ref:this.#e.ref,afterTick:this.#e.open}),g([()=>this.#e.open.current],([t])=>{this.#t&&this.#n.run(()=>{t===this.#e.open.current&&this.#e.onComplete()})})}}function Dt(n,e){var t=y(),r=w(t);nt(r,()=>e.children,s=>{var o=y(),i=w(o);N(i,()=>e.children??O),S(s,o)}),S(n,t)}const Mt=new at("BitsConfig");function Ft(){const n=new Rt(null,{});return Mt.getOr(n).opts}class Rt{opts;constructor(e,t){const r=Lt(e,t);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function Lt(n,e){return t=>f(()=>{const s=t(e)?.current;if(s!==void 0)return s;if(n!==null)return t(n.opts)?.current})}function ye(n,e){return t=>{const r=Ft();return f(()=>{const s=t();if(s!==void 0)return s;const o=n(r).current;return o!==void 0?o:e})}}const Mn=ye(n=>n.defaultLocale,"en"),kt=ye(n=>n.defaultPortalTo,"body");function Fn(n,e){A(e,!0);const t=kt(()=>e.to),r=Ye();let s=K(o);function o(){if(!ge||e.disabled)return null;let l=null;return typeof t.current=="string"?l=document.querySelector(t.current):l=t.current,l}let i;function a(){i&&(tt(i),i=null)}g([()=>h(s),()=>e.disabled],([l,T])=>{if(!l||T){a();return}return i=et(Dt,{target:l,props:{children:e.children},context:r}),()=>{a()}});var u=y(),c=w(u);{var v=l=>{var T=y(),R=w(T);N(R,()=>e.children??O),S(l,T)};he(c,l=>{e.disabled&&l(v)})}S(n,u),C()}function oe(n,e=500){let t=null;const r=(...s)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...s)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function we(n,e){return n===e||n.contains(e)}function Se(n){return n?.ownerDocument??document}function _t(n,e){const{clientX:t,clientY:r}=n,s=e.getBoundingClientRect();return t<s.left||t>s.right||r<s.top||r>s.bottom}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Te=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],X=Te.join(","),Ee=typeof Element>"u",I=Ee?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,U=!Ee&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},W=function n(e,t){var r;t===void 0&&(t=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",i=o||t&&e&&n(e.parentNode);return i},Bt=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Ae=function(e,t,r){if(W(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(X));return t&&I.call(e,X)&&s.unshift(e),s=s.filter(r),s},Ce=function n(e,t,r){for(var s=[],o=Array.from(e);o.length;){var i=o.shift();if(!W(i,!1))if(i.tagName==="SLOT"){var a=i.assignedElements(),u=a.length?a:i.children,c=n(u,!0,r);r.flatten?s.push.apply(s,c):s.push({scopeParent:i,candidates:c})}else{var v=I.call(i,X);v&&r.filter(i)&&(t||!e.includes(i))&&s.push(i);var l=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),T=!W(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(l&&T){var R=n(l===!0?i.children:l.children,!0,r);r.flatten?s.push.apply(s,R):s.push({scopeParent:i,candidates:R})}else o.unshift.apply(o,i.children)}}return s},Ne=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Oe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Bt(e))&&!Ne(e)?0:e.tabIndex},Ut=function(e,t){var r=Oe(e);return r<0&&t&&!Ne(e)?0:r},Wt=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ie=function(e){return e.tagName==="INPUT"},Vt=function(e){return Ie(e)&&e.type==="hidden"},qt=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Kt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},zt=function(e){if(!e.name)return!0;var t=e.form||U(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Kt(s,e.form);return!o||o===e},jt=function(e){return Ie(e)&&e.type==="radio"},Ht=function(e){return jt(e)&&!zt(e)},Gt=function(e){var t,r=e&&U(e),s=(t=r)===null||t===void 0?void 0:t.host,o=!1;if(r&&r!==e){var i,a,u;for(o=!!((i=s)!==null&&i!==void 0&&(a=i.ownerDocument)!==null&&a!==void 0&&a.contains(s)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!o&&s;){var c,v,l;r=U(s),s=(c=r)===null||c===void 0?void 0:c.host,o=!!((v=s)!==null&&v!==void 0&&(l=v.ownerDocument)!==null&&l!==void 0&&l.contains(s))}}return o},ae=function(e){var t=e.getBoundingClientRect(),r=t.width,s=t.height;return r===0&&s===0},Xt=function(e,t){var r=t.displayCheck,s=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=I.call(e,"details>summary:first-of-type"),i=o?e.parentElement:e;if(I.call(i,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var u=e.parentElement,c=U(e);if(u&&!u.shadowRoot&&s(u)===!0)return ae(e);e.assignedSlot?e=e.assignedSlot:!u&&c!==e.ownerDocument?e=c.host:e=u}e=a}if(Gt(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ae(e);return!1},Yt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var s=t.children.item(r);if(s.tagName==="LEGEND")return I.call(t,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}t=t.parentElement}return!1},V=function(e,t){return!(t.disabled||W(t)||Vt(t)||Xt(t,e)||qt(t)||Yt(t))},ue=function(e,t){return!(Ht(t)||Oe(t)<0||!V(e,t))},Zt=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Qt=function n(e){var t=[],r=[];return e.forEach(function(s,o){var i=!!s.scopeParent,a=i?s.scopeParent:s,u=Ut(a,i),c=i?n(s.candidates):a;u===0?i?t.push.apply(t,c):t.push(a):r.push({documentOrder:o,tabIndex:u,item:s,isScope:i,content:c})}),r.sort(Wt).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(t)},Jt=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Ce([e],t.includeContainer,{filter:ue.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Zt}):r=Ae(e,t.includeContainer,ue.bind(null,t)),Qt(r)},$t=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Ce([e],t.includeContainer,{filter:V.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Ae(e,t.includeContainer,V.bind(null,t)),r},en=Te.concat("iframe").join(","),tn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return I.call(e,en)===!1?!1:V(t,e)};const nn="data-context-menu-trigger",rn="data-context-menu-content";Qe({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});globalThis.bitsDismissableLayers??=new Map;class Z{static create(e){return new Z(e)}opts;#e;#t;#n={pointerdown:!1};#r=!1;#s=!1;#i=void 0;#c;#o=b;constructor(e){this.opts=e,this.#t=e.interactOutsideBehavior,this.#e=e.onInteractOutside,this.#c=e.onFocusOutside,q(()=>{this.#i=Se(this.opts.ref.current)});let t=b;const r=()=>{this.#h(),globalThis.bitsDismissableLayers.delete(this),this.#a.destroy(),t()};g([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return ft(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#t),t(),t=this.#l())}),r}),F(()=>{this.#h.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#a.destroy(),this.#o(),t()})}#f=e=>{e.defaultPrevented||this.opts.ref.current&&Y(()=>{!this.opts.ref.current||this.#p(e.target)||e.target&&!this.#s&&this.#c.current?.(e)})};#l(){return M(m(this.#i,"pointerdown",M(this.#d,this.#v),{capture:!0}),m(this.#i,"pointerdown",M(this.#m,this.#a)),m(this.#i,"focusin",this.#f))}#u=e=>{let t=e;t.defaultPrevented&&(t=ce(e)),this.#e.current(e)};#a=oe(e=>{if(!this.opts.ref.current){this.#o();return}const t=this.opts.isValidEvent.current(e,this.opts.ref.current)||an(e,this.opts.ref.current);if(!this.#r||this.#b()||!t){this.#o();return}let r=e;if(r.defaultPrevented&&(r=ce(r)),this.#t.current!=="close"&&this.#t.current!=="defer-otherwise-close"){this.#o();return}e.pointerType==="touch"?(this.#o(),this.#o=m(this.#i,"click",this.#u,{once:!0})):this.#e.current(r)},10);#d=e=>{this.#n[e.type]=!0};#m=e=>{this.#n[e.type]=!1};#v=()=>{this.opts.ref.current&&(this.#r=on(this.opts.ref.current))};#p=e=>this.opts.ref.current?we(this.opts.ref.current,e):!1;#h=oe(()=>{for(const e in this.#n)this.#n[e]=!1;this.#r=!1},20);#b(){return Object.values(this.#n).some(Boolean)}#g=()=>{this.#s=!0};#y=()=>{this.#s=!1};props={onfocuscapture:this.#g,onblurcapture:this.#y}}function sn(n=[...globalThis.bitsDismissableLayers]){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function on(n){const e=[...globalThis.bitsDismissableLayers],t=sn(e);if(t)return t[0].opts.ref.current===n;const[r]=e[0];return r.opts.ref.current===n}function an(n,e){const t=n.target;if(!Et(t))return!1;const r=!!t.closest(`[${nn}]`);if("button"in n&&n.button>0&&!r)return!1;if("button"in n&&n.button===0&&r)return!0;const s=!!e.closest(`[${rn}]`);return r&&s?!1:Se(t).documentElement.contains(t)&&!we(e,t)&&_t(n,e)}function ce(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let s=!1;return new Proxy(r,{get:(i,a)=>a==="currentTarget"?e:a==="target"?t:a==="preventDefault"?()=>{s=!0,typeof i.preventDefault=="function"&&i.preventDefault()}:a==="defaultPrevented"?s:a in i?i[a]:n[a]})}function Rn(n,e){A(e,!0);let t=d(e,"interactOutsideBehavior",3,"close"),r=d(e,"onInteractOutside",3,b),s=d(e,"onFocusOutside",3,b),o=d(e,"isValidEvent",3,()=>!1);const i=Z.create({id:f(()=>e.id),interactOutsideBehavior:f(()=>t()),onInteractOutside:f(()=>r()),enabled:f(()=>e.enabled),onFocusOutside:f(()=>s()),isValidEvent:f(()=>o()),ref:e.ref});var a=y(),u=w(a);N(u,()=>e.children??O,()=>({props:i.props})),S(n,a),C()}globalThis.bitsEscapeLayers??=new Map;class Q{static create(e){return new Q(e)}opts;domContext;constructor(e){this.opts=e,this.domContext=new be(this.opts.ref);let t=b;g(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=this.#e()),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}#e=()=>m(this.domContext.getDocument(),"keydown",this.#t,{passive:!1});#t=e=>{if(e.key!==St||!un(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)}}function un(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([s,{current:o}])=>o==="close"||o==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function Ln(n,e){A(e,!0);let t=d(e,"escapeKeydownBehavior",3,"close"),r=d(e,"onEscapeKeydown",3,b);Q.create({escapeKeydownBehavior:f(()=>t()),onEscapeKeydown:f(()=>r()),enabled:f(()=>e.enabled),ref:e.ref});var s=y(),o=w(s);N(o,()=>e.children??O),S(n,s),C()}class J{static instance;#e=de([]);#t=new WeakMap;#n=new WeakMap;static getInstance(){return this.instance||(this.instance=new J),this.instance}register(e){const t=this.getActive();t&&t!==e&&t.pause();const r=document.activeElement;r&&r!==document.body&&this.#n.set(e,r),this.#e.current=this.#e.current.filter(s=>s!==e),this.#e.current.unshift(e)}unregister(e){this.#e.current=this.#e.current.filter(r=>r!==e);const t=this.getActive();t&&t.resume()}getActive(){return this.#e.current[0]}setFocusMemory(e,t){this.#t.set(e,t)}getFocusMemory(e){return this.#t.get(e)}isActiveScope(e){return this.getActive()===e}setPreFocusMemory(e,t){this.#n.set(e,t)}getPreFocusMemory(e){return this.#n.get(e)}clearPreFocusMemory(e){this.#n.delete(e)}}class ${#e=!1;#t=null;#n=J.getInstance();#r=[];#s;constructor(e){this.#s=e}get paused(){return this.#e}pause(){this.#e=!0}resume(){this.#e=!1}#i(){for(const e of this.#r)e();this.#r=[]}mount(e){this.#t&&this.unmount(),this.#t=e,this.#n.register(this),this.#f(),this.#c()}unmount(){this.#t&&(this.#i(),this.#o(),this.#n.unregister(this),this.#n.clearPreFocusMemory(this),this.#t=null)}#c(){if(!this.#t)return;const e=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#s.onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!this.#t)return;const t=this.#u();t?(t.focus(),this.#n.setFocusMemory(this,t)):this.#t.focus()})}#o(){const e=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#s.onCloseAutoFocus.current?.(e),!e.defaultPrevented){const t=this.#n.getPreFocusMemory(this);if(t&&document.contains(t))try{t.focus()}catch{document.body.focus()}}}#f(){if(!this.#t||!this.#s.trap.current)return;const e=this.#t,t=e.ownerDocument,r=i=>{if(this.#e||!this.#n.isActiveScope(this))return;const a=i.target;if(!a)return;if(e.contains(a))this.#n.setFocusMemory(this,a);else{const c=this.#n.getFocusMemory(this);if(c&&e.contains(c)&&tn(c))i.preventDefault(),c.focus();else{const v=this.#u(),l=this.#a()[0];(v||l||e).focus()}}},s=i=>{if(!this.#s.loop||this.#e||i.key!=="Tab"||!this.#n.isActiveScope(this))return;const a=this.#l();if(a.length<2)return;const u=a[0],c=a[a.length-1];!i.shiftKey&&t.activeElement===c?(i.preventDefault(),u.focus()):i.shiftKey&&t.activeElement===u&&(i.preventDefault(),c.focus())};this.#r.push(m(t,"focusin",r,{capture:!0}),m(e,"keydown",s));const o=new MutationObserver(()=>{const i=this.#n.getFocusMemory(this);if(i&&!e.contains(i)){const a=this.#u(),u=this.#a()[0],c=a||u;c?(c.focus(),this.#n.setFocusMemory(this,c)):e.focus()}});o.observe(e,{childList:!0,subtree:!0}),this.#r.push(()=>o.disconnect())}#l(){return this.#t?Jt(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}#u(){return this.#l()[0]||null}#a(){return this.#t?$t(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}static use(e){let t=null;return g([()=>e.ref.current,()=>e.enabled.current],([r,s])=>{r&&s?(t||(t=new $(e)),t.mount(r)):t&&(t.unmount(),t=null)}),F(()=>{t?.unmount()}),{get props(){return{tabindex:-1}}}}}function kn(n,e){A(e,!0);let t=d(e,"enabled",3,!1),r=d(e,"trapFocus",3,!1),s=d(e,"loop",3,!1),o=d(e,"onCloseAutoFocus",3,b),i=d(e,"onOpenAutoFocus",3,b);const a=$.use({enabled:f(()=>t()),trap:f(()=>r()),loop:s(),onCloseAutoFocus:f(()=>o()),onOpenAutoFocus:f(()=>i()),ref:e.ref});var u=y(),c=w(u);N(c,()=>e.focusScope??O,()=>({props:a.props})),S(n,u),C()}globalThis.bitsTextSelectionLayers??=new Map;class ee{static create(e){return new ee(e)}opts;domContext;#e=b;constructor(e){this.opts=e,this.domContext=new be(e.ref);let t=b;g(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=this.#t()),()=>{t(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#t(){return M(m(this.domContext.getDocument(),"pointerdown",this.#n),m(this.domContext.getDocument(),"pointerup",Je(this.#r,this.opts.onPointerUp.current)))}#n=e=>{const t=this.opts.ref.current,r=e.target;!ie(t)||!ie(r)||!this.opts.enabled.current||!ln(this)||!bt(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#e=cn(t,this.domContext.getDocument().body)))};#r=()=>{this.#e(),this.#e=b}}const le=n=>n.style.userSelect||n.style.webkitUserSelect;function cn(n,e){const t=le(e),r=le(n);return L(e,"none"),L(n,"text"),()=>{L(e,t),L(n,r)}}function L(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function ln(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function _n(n,e){A(e,!0);let t=d(e,"preventOverflowTextSelection",3,!0),r=d(e,"onPointerDown",3,b),s=d(e,"onPointerUp",3,b);ee.create({id:f(()=>e.id),onPointerDown:f(()=>r()),onPointerUp:f(()=>s()),enabled:f(()=>e.enabled&&t()),ref:e.ref});var o=y(),i=w(o);N(i,()=>e.children??O),S(n,o),C()}globalThis.bitsIdCounter??={current:0};function fn(n="bits"){return globalThis.bitsIdCounter.current++,`${n}-${globalThis.bitsIdCounter.current}`}class hn{#e;#t=0;#n=E();#r;constructor(e){this.#e=e}#s(){this.#t-=1,this.#r&&this.#t<=0&&(this.#r(),p(this.#n,void 0),this.#r=void 0)}get(...e){return this.#t+=1,h(this.#n)===void 0&&(this.#r=Ze(()=>{p(this.#n,this.#e(...e),!0)})),q(()=>()=>{this.#s()}),h(this.#n)}}const _=new rt;let k=E(null),j=null,P=null,D=!1;const fe=f(()=>{for(const n of _.values())if(n)return!0;return!1});let H=null;const dn=new hn(()=>{function n(){document.body.setAttribute("style",h(k)??""),document.body.style.removeProperty("--scrollbar-width"),se&&j?.(),p(k,null)}function e(){P!==null&&(window.clearTimeout(P),P=null)}function t(s,o){e(),D=!0,H=Date.now();const i=H,a=()=>{P=null,H===i&&(xe(_)?D=!1:(D=!1,o()))},u=s===null?24:s;P=window.setTimeout(a,u)}function r(){h(k)===null&&_.size===0&&!D&&p(k,document.body.getAttribute("style"),!0)}return g(()=>fe.current,()=>{if(!fe.current)return;r(),D=!1;const s=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,a={padding:Number.parseInt(s.paddingRight??"0",10)+o,margin:Number.parseInt(s.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${a.padding}px`,document.body.style.marginRight=`${a.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),se&&(j=m(document,"touchmove",u=>{u.target===document.documentElement&&(u.touches.length>1||u.preventDefault())},{passive:!1})),Y(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),F(()=>()=>{j?.()}),{get lockMap(){return _},resetBodyStyle:n,scheduleCleanupIfNoNewLocks:t,cancelPendingCleanup:e,ensureInitialStyleCaptured:r}});class mn{#e=fn();#t;#n=()=>null;#r;locked;constructor(e,t=()=>null){this.#t=e,this.#n=t,this.#r=dn.get(),this.#r&&(this.#r.cancelPendingCleanup(),this.#r.ensureInitialStyleCaptured(),this.#r.lockMap.set(this.#e,this.#t??!1),this.locked=f(()=>this.#r.lockMap.get(this.#e)??!1,r=>this.#r.lockMap.set(this.#e,r)),F(()=>{if(this.#r.lockMap.delete(this.#e),xe(this.#r.lockMap))return;const r=this.#n();this.#r.scheduleCleanupIfNoNewLocks(r,()=>{this.#r.resetBodyStyle()})}))}}function xe(n){for(const[e,t]of n)if(t)return!0;return!1}function Bn(n,e){A(e,!0);let t=d(e,"preventScroll",3,!0),r=d(e,"restoreScrollDelay",3,null);t()&&new mn(t(),()=>r()),C()}export{Sn as A,at as C,be as D,Cn as E,kn as F,Nn as H,Dn as O,Fn as P,On as S,_n as T,Y as a,Pn as b,Ln as c,Rn as d,Bn as e,Et as f,Tn as g,En as h,ie as i,wn as j,An as k,st as l,ge as m,b as n,F as o,gt as p,xn as q,Mn as r,yt as s,In as t,fn as u,g as w};
